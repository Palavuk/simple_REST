HTTP-сервер с REST API сервисом
==================================

Сервер запускается из терминала командой python3 script.py. Тело ответа сервер посылает в формате json. После запуска следует дождаться пока данные загрузятся в память и в консоли не появиться "Server ready to work". После к нему можно обращаться по адресу localhost и порту 8000 со следующими методами :

Метод GETID
--------------

Метод считывает число geonameid из прописанного пути и возвращает информацию по принятому geonameid, пустые поля в ответ не выводятся.

Пример запроса:

    curl -X GETID localhost:8000/452745

Ответ будет в виде:

    {
        "Result": {
            "geonameid": "452745",
            "name": "Sigovka",
            "asciiname": "Sigovka",
            "alternatenames": [
                "Sigovka",
                "Сиговка"
            ],
            "latitude": "57.09592",
            "longitude": "33.2079",
            "feature_class": "P",
            "feature_code": "PPL",
            "country_code": "RU",
            "admin1_code": "77",
            "population": "0",
            "dem": "214",
            "timezone": "Europe/Moscow",
            "modificationdate": "2012-01-16"
        }
    }

Метод FINDON
---------------

Метод принимает страницу в теле запроса и число городов, которые нужно на ней найти, в прописанном пути. Возвращает информацию по найденным городам в указанном количестве или меньшем, если не удалось найти нужное количество.

Если название города состоит из нескольких слов, они должны разделяться символом "_", иначе будут найдены совпадения только отдельных слов.

Пример запроса:

    curl -X FINDON -d "Как похорошела Москва при Собянине! А сами мы из Рябинино." localhost:8000/2

Ответ:

    {
        "Result1": {
            "geonameid": "1505093",
            "name": "Kak",
            "asciiname": "Kak",
            "alternatenames": [
                "Kak",
                "Как"
            ],
            "latitude": "51.3425",
            "longitude": "93.5188",
            "feature_class": "P",
            "feature_code": "PPL",
            "country_code": "RU",
            "cc2": "",
            "admin1_code": "79",
            "admin2_code": "",
            "admin3_code": "",
            "admin4_code": "",
            "population": 0,
            "elevation": "",
            "dem": "1132",
            "timezone": "Asia/Krasnoyarsk",
            "modificationdate": "2019-02-01"
        },
        "Result2": {
            "geonameid": "524894",
            "name": "Moskva",
            "asciiname": "Moskva",
            "alternatenames": [
                "Maskva",
                "Moscou",
                "Moscow",
                "Moscu",
                "Moscú",
                "Moskau",
                "Moskou",
                "Moskovu",
                "Moskva",
                "Məskeu",
                "Москва",
                "Мәскеу"
            ],
            "latitude": "55.76167",
            "longitude": "37.60667",
            "feature_class": "A",
            "feature_code": "ADM1",
            "country_code": "RU",
            "cc2": "",
            "admin1_code": "48",
            "admin2_code": "",
            "admin3_code": "",
            "admin4_code": "",
            "population": 11503501,
            "elevation": "",
            "dem": "161",
            "timezone": "Europe/Moscow",
            "modificationdate": "2020-03-31"
        },
        "Result3": {
            "geonameid": "11618499",
            "name": "Ryabinino",
            "asciiname": "Ryabinino",
            "alternatenames": [
                "Rjabinino",
                "Ryabinino",
                "Рябинино"
            ],
            "latitude": "56.88275",
            "longitude": "28.56946",
            "feature_class": "P",
            "feature_code": "PPL",
            "country_code": "RU",
            "cc2": "",
            "admin1_code": "60",
            "admin2_code": "",
            "admin3_code": "",
            "admin4_code": "",
            "population": 0,
            "elevation": "",
            "dem": "88",
            "timezone": "Europe/Moscow",
            "modificationdate": "2017-08-03"
        }
    }

Метод DIFF
-------------

Метод принимает считывает два города из тела запроса, города должны быть разделены запятой, если подать больше значений то метод вышлет сообщение об ошибке. Возвращает разницу часовых поясов, какой из городов находится севернее и имеющуюся информацию об обоих городах.

Пример запроса:

    curl -X DIFF -d "Чигариха, Остров Малый Колодный" localhost:8000

Ответ:

    {
        "Difference of timezones": "0 hours",
        "Difference of longitude": "Остров Малый Колодный farther north than Чигариха",
        "Information about first": {
            "geonameid": "452652",
            "name": "Chigarikha",
            "asciiname": "Chigarikha",
            "alternatenames": [
                "Chigarikha",
                "Чигариха"
            ],
            "latitude": "57.3282",
            "longitude": "33.43449",
            "feature_class": "P",
            "feature_code": "PPL",
            "country_code": "RU",
            "cc2": "",
            "admin1_code": "77",
            "admin2_code": "",
            "admin3_code": "",
            "admin4_code": "",
            "population": 0,
            "elevation": "",
            "dem": "254",
            "timezone": "Europe/Moscow",
            "modificationdate": "2012-01-16"
        },
        "Information about second": {
            "geonameid": "452661",
            "name": "Ostrov Malyy Kolodnyy",
            "asciiname": "Ostrov Malyy Kolodnyy",
            "alternatenames": [
                "Ostrov Malyj Kolodnyj",
                "Ostrov Malyy Kolodnyy",
                "Остров Малый Колодный"
            ],
            "latitude": "57.30856",
            "longitude": "33.09208",
            "feature_class": "T",
            "feature_code": "ISL",
            "country_code": "RU",
            "cc2": "",
            "admin1_code": "77",
            "admin2_code": "",
            "admin3_code": "",
            "admin4_code": "",
            "population": 0,
            "elevation": "",
            "dem": "211",
            "timezone": "Europe/Moscow",
            "modificationdate": "2012-01-16"
        }
    }

Метод HELPWRITE
------------------

Метод считывает строку из тела запроса и возвращает подсказку полного названия города, начинающегося на данную строку.

Пример запроса:

    curl -X HELPWRITE -d "Моск" localhost:8000

Ответ:

    {
        "You mean:": "Московский вокзал, Москворечье-Сабурово, Москвята, Москвин Починок, Москвино, Москвина, Москвино, Москвино, Москвина, Москвина, Москва, Москва, Москва, Москва, Москва, Москва, Москва, Москова, Москох, Москъва, Москва, Москва, Москудья, Москудья, Московское, Московское, Московский Район, Московский Район, Московский Район, Московский Район, Московский Район, Московский Район, Московский Район,   Московский Район, Московские-Выселки, Московский, Московский Второй, Московский, Московский, Московский, Московская Слобода, Московская Славянка, Москва вилаят, Москва муж, Москва областы, Москва уобалаһа, Москвагай можо, Москван область, Моско вел, Москова төгәлң, Московонь ёнкс, Московска област, Московская область, Московська область, Москъвьска область, Московская Дубровка, Московская, Москово, Москово, Московка, Московка, Московка, Московка, Московка, Московка, Московка, Московка, Москотово, Москальки, Москали, Москалёвка, Москалёвка, Москакасы, Моска, Московский, Московский, Московское, Московка, Московское, Москвино, Москальчук, Московский, Московский, Московское, Москвинское, Москвинка, Москвинская, Москвинский, Москвинка, Москвина, Московка, Москва, Московский, Московка, Московский, Московский, Московский, Московский, Московка, Московка, Московка, Москалка, Москаленский Район, Москаленский, Москаленки, Москалёнки, Московское, Московка, Московский, Москвитино, Московское, Московское, Московщина, Москалева, Московская, Москольво, Москальво, Московский, Москвята, Московский аэропорт Домоде́дово, Москвичи, Московское, Москвята, Московский Государственный Технический Университет им Н.Э. Баумана, Москва-Пассажирская-Смоленская, Московка, Московка-Два, Москвино, Москота, Москвицы, Москачево, Москалево, Моско́вский Кремль, Московщина, Московский, Московка, Москали, Москвино, Москвин Починок, Московка, Москвитино, Москвино, Москоммуна, Москичи, Москалевский Калтус, Москвиха, Московский Проспект, Московская Улица, Московский Тракт, Московка Три, Москворечье-Сабурово, Московская государственная консерватория имени П. И. Чайковского, Московский Участок, Москворецкая Слобода, "
    }
